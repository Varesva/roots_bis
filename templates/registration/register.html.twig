{% extends 'base.html.twig' %}

{% block title %}
	Inscription
{% endblock %}

{% block metadesc %}
	Inscrivez-vous dès maintenant sur Roots pour profiter d'une sélection des meilleurs restaurants et livres de recettes africains et caribéens !
{% endblock %}

{% block body %}
	<div
		class="register_container">
		{# section connexion - other #}
		<div class="section_other text-center">
			<div class="row g-3 m-auto">
				<h1>Connexion</h1>
				<div>
					<p>
						Vous avez déjà un compte ?
					</p>
					<i class="fa-solid fa-angles-down"></i>
				</div>
				<a role="button" class="btn" href="{{path('app_login')}}">
					Se connecter
				</a>

				<p class="mt-0">
					<small>
						<a href="{{path('app_forgot_password_request')}}" class=" font-weight-bold">
							Mot de passe oublié ?
						</a>
					</small>
				</p>
			</div>
		</div>

		{# section inscription - main #}
		<div class="section_main">
			<div class="m-auto">
				<h1>
					Inscription
				</h1>

				{# formulaire d'inscription #}
				{{ form_start(registrationForm, {
					'attr' : {
						'id' : 'register',
					}
				}) }}

				<div class="row g-3">
					<p class="small">
							*Champs obligatoires
					</p>

					{{ form_row(registrationForm.prenom, {
				'label' : 'Prénom*', 
				'row_attr' : {'class' : 'col-md-6 mb-2'},
				} ) }}

					{{ form_row(registrationForm.nom, {
				'label' : 'Nom*', 
				'row_attr' : {'class' : 'col-md-6 mb-2'},
				} ) }}

					{{ form_row(registrationForm.email, {
				'label' : 'Email*', 
				'row_attr' : {'class' : 'col-md-6 mb-2'},
				} ) }}

					{{ form_row(registrationForm.plainPassword, {
				'label' : 'Mot de passe*', 
				'row_attr' : {'class' : 'col-md-6 mb-2'},
				} ) }}

					<div
						class="d-flex justify-content-center mx-auto my-3 col-10">
						{# case à cocher #}
						{{ form_widget(registrationForm.agreeTerms) }}

						{# validate email confirmation link, sets User::isVerified=true and persists #}
						{% for flash_error in app.flashes('verify_email_error') %}
							<small class="alert alert-danger bg-danger text-white" role=" alert">{{ flash_error }}</small>
						{% endfor %}
					</div>

					<button type="submit" class="btn">
						S'inscrire
					</button>

				</div>
				{{ form_end(registrationForm) }}
			</div>
		</div>

		<div class="col-sm-6 d-sm-block d-md-none security_form">
			<h2>
				Connexion
			</h2>
			<p class="my-2">
				Vous avez déjà un compte ?
			</p>
			<a role="button" class="btn btn-success my-2" href="{{path('app_login')}}" aria-label="se connecter">
				Se connecter
			</a>
		</div>

	</div>
{% endblock %}
